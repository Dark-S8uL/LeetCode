class Solution {
public:
    int t[51][51] ;
    int solve(int i, int j, vector<int>& v) {
        if(j-i < 2) return 0 ;
        if(t[i][j] != -1) return t[i][j] ;
        int ans = INT_MAX ;
        for(int k = i+1; k < j; k++) {
            ans = min(ans, solve(i, k, v) + solve(k, j, v) + (v[i] * v[k] * v[j])) ;
        }
        return t[i][j] = ans ;
    }
    int minScoreTriangulation(vector<int>& v) {
        int n = v.size() ;
        memset(t, -1, sizeof(t)) ;
        return solve(0, n-1, v) ;
    }
};
